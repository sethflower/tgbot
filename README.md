# Telegram Queue Bot (Aiogram 3)

–ì–æ—Ç–æ–≤–∏–π –∫–∞—Ä–∫–∞—Å –±–æ—Ç–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó —á–µ—Ä–≥–∏ –≤–æ–¥—ñ—ó–≤ –Ω–∞ `Aiogram 3` –∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª–ª—é, –µ–∫—Å–ø–æ—Ä—Ç–æ–º –≤ Excel, –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è–º–∏ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è–º.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É
- `bot.py` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î –±–æ—Ç–∞, –ø—ñ–¥–∫–ª—é—á–∞—î –º–∞—Ä—à—Ä—É—Ç–∏ —Ç–∞ –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫.
- `app/config.py` ‚Äî —á–∏—Ç–∞—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑ `.env` (—Ç–æ–∫–µ–Ω, ID –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤, —à–ª—è—Ö–∏ –¥–æ –ë–î/–ª–æ–≥—ñ–≤).
- `app/database.py` ‚Äî —Ä–æ–±–æ—Ç–∞ –∑ SQLite: –∑–∞—è–≤–∫–∏, —Å—Ç–∞—Ç—É—Å–∏, –ª–æ–≥–∏, –≤–∏–±—ñ—Ä–∫–∏ –¥–ª—è –Ω–∞–≥–∞–¥—É–≤–∞–Ω—å.
- `app/keyboards.py` ‚Äî –≥–æ—Ç–æ–≤—ñ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏: –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é, –∞–¥–º—ñ–Ω-–º–µ–Ω—é, –∫–∞–ª–µ–Ω–¥–∞—Ä, —á–∞—Å, –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å–∞–º–∏.
- `app/handlers/driver.py` ‚Äî —Å—Ü–µ–Ω–∞—Ä—ñ–π –¥–ª—è –≤–æ–¥—ñ—è: FSM-—Ñ–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏, –∫–∞–ª–µ–Ω–¥–∞—Ä, —á–∞—Å, –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –∞–¥–º—ñ–Ω–∞–º.
- `app/handlers/admin.py` ‚Äî –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å: —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è/–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è/—Å–∫–∞—Å—É–≤–∞–Ω–Ω—è/–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è, –µ–∫—Å–ø–æ—Ä—Ç.
- `app/utils/export.py` ‚Äî –µ–∫—Å–ø–æ—Ä—Ç –∑–∞—è–≤–æ–∫ —É Excel (`openpyxl`).
- `app/utils/notifications.py` ‚Äî —Ñ–æ–Ω–æ–≤–∞ —Ä–æ–∑—Å–∏–ª–∫–∞ –Ω–∞–≥–∞–¥—É–≤–∞–Ω—å —Ç–∞ –∞–≤—Ç–æ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–∏—Ö –∑–∞—è–≤–æ–∫.
- `requirements.txt` ‚Äî –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.
- `.env.example` ‚Äî –ø—Ä–∏–∫–ª–∞–¥ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.

## –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫
1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Python 3.11+.
2. –°—Ç–≤–æ—Ä—ñ—Ç—å `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example` —Ç–∞ –¥–æ–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –π ID –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ (—á–µ—Ä–µ–∑ –∫–æ–º—É).
3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
   ```bash
   pip install -r requirements.txt
   ```
4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:
   ```bash
   python bot.py
   ```

## –î–µ–ø–ª–æ–π –Ω–∞ Railway
1. –°—Ç–≤–æ—Ä—ñ—Ç—å GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —ñ –∑–∞–ø—É—à—Ç–µ —Ü–µ–π –∫–æ–¥ (`git init`, `git add .`, `git commit -m "init"`, `git remote add origin ...`, `git push`).
2. –ù–∞ https://railway.app —Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç ‚Üí Deploy from GitHub ‚Üí –æ–±–µ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π.
3. –£ —Ä–æ–∑–¥—ñ–ª—ñ Variables –¥–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ:
   - `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –≤—ñ–¥ BotFather.
   - `ADMIN_IDS` ‚Äî ID –∞–¥–º—ñ–Ω—ñ–≤ —á–µ—Ä–µ–∑ –∫–æ–º—É.
4. –£—Å—Ç–∞–Ω–æ–≤–∫–∏:
   - Service type: `Python`
   - Start command: `python bot.py`
   - Railway —Å–∞–º –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ `requirements.txt`.
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Deploy. –õ–æ–≥–∏ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —É –≤–∫–ª–∞–¥—Ü—ñ Logs.

## –†–æ–ª—ñ
- **–í–æ–¥—ñ–π**: —Ç–∏—Å–Ω–µ "–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞—è–≤–∫—É" ‚Üí –∑–∞–ø–æ–≤–Ω—é—î –ø–æ–ª—è ‚Üí –æ—Ç—Ä–∏–º—É—î —Å—Ç–∞—Ç—É—Å–∏/–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
- **–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä**: –¥–æ—Å—Ç—É–ø –∑–∞ –∫–æ–º–∞–Ω–¥–æ—é `/admin` –∞–±–æ –∫–Ω–æ–ø–∫–∞–º–∏ –º–µ–Ω—é; –º–æ–∂–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏, –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏, —Å–∫–∞—Å—É–≤–∞—Ç–∏ —á–∏ –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–∞—è–≤–∫–∏, –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤ Excel.

## –ö–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
- –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é: –≤–µ–ª–∏–∫—ñ –∫–Ω–æ–ø–∫–∏ `üöõ –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞—è–≤–∫—É`, `üìã –ú–æ—ó –∑–∞—è–≤–∫–∏`.
- –ê–¥–º—ñ–Ω-–º–µ–Ω—é: `üóÇ –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫`, `üì§ –ï–∫—Å–ø–æ—Ä—Ç –≤ Excel`.
- –Ü–Ω–ª–∞–π–Ω-–∫–∞–ª–µ–Ω–¥–∞—Ä —Ç–∞ –≤–∏–±—ñ—Ä —á–∞—Å—É –∑ –∫—Ä–æ–∫–æ–º 30 —Ö–≤–∏–ª–∏–Ω.
- –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞—Ç—É—Å—ñ–≤ —É –∫–æ–∂–Ω—ñ–π –∑–∞—è–≤—Ü—ñ –¥–ª—è –∞–¥–º—ñ–Ω–∞.

## –§–∞–π–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
–í–æ–¥—ñ–π –º–æ–∂–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ `jpg/png/pdf`; `file_id` –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –ë–î, –∞–¥–º—ñ–Ω–∏ –±–∞—á–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ.

## –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è
–ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ `APScheduler` –∫–æ–∂–Ω—ñ 20 —Ö–≤–∏–ª–∏–Ω —à—É–∫–∞—î –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ –∑–∞—è–≤–∫–∏ –∑–∞ –≥–æ–¥–∏–Ω—É –¥–æ –≤'—ó–∑–¥—É —Ç–∞ —à–ª–µ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –≤–æ–¥—ñ—è–º. –¢–∞–∫–æ–∂ —â–æ–≥–æ–¥–∏–Ω–∏ –∑–∞–∫—Ä–∏–≤–∞—î –ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω—ñ –∑–∞—è–≤–∫–∏ —è–∫ `done`.

## –õ–æ–≥—É–≤–∞–Ω–Ω—è
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π `logging` + —Ç–∞–±–ª–∏—Ü—è `logs` —É SQLite –¥–ª—è –∞—É–¥–∏—Ç—É –¥—ñ–π (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –∑–º—ñ–Ω–∞ —Å—Ç–∞—Ç—É—Å—ñ–≤, –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –Ω–∞–≥–∞–¥—É–≤–∞–Ω—å).
